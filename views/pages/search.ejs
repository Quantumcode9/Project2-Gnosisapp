
<%- include('../partials/header') %> 
<main>
    <div class="container-center">
        <form action="/search" method="get" class="d-flex justify-content-center"> 
            <input type="text" name="search" id="searchInput" class="form-control me-2" placeholder="Search for a TV show" style="width: 300px;">
            <button type="submit" class="btn btn-outline-primary">Search</button>
        </form>
    </div>

<div id="searchResults"></div>
</main>
<%- include('../partials/footer') %>
<script>
    document.getElementById('searchInput').addEventListener('keyup', function(event) {
        const query = event.target.value;
    
        if (query.length > 2) {
            fetch(`/search-tv-shows?q=${encodeURIComponent(query)}`)
                .then(response => response.json())
                .then(data => {
                    // Display the results with poster images
                    document.getElementById('searchResults').innerHTML = data.map(show => `
    <div class="show">  
        <a href="/pages/show/${show.id}">
         <img src="https://image.tmdb.org/t/p/w500${show.poster_path}" alt="${show.name}" class="img">
          </a>

          <div class="show-icons">
            <img src="/images/Favorites.png" alt="Add to Favorites" onclick="addToFavorites('${show.id}')" class="icon">
            <img src="/images/Watching.png" alt="Add to Watch List" onclick="addToWatchList('${show.id}')" class="icon">
            <img src="/images/Watched.png" alt="Add to Watched" onclick="addToWatched('${show.id}')" class="icon">
        </div>
    </div>
`).join('');
                })
                .catch(error => console.error('Error:', error));
        }
    });
</script>

















